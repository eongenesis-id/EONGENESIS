<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Futuristic Sempoa</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Luxury Wood Tones */
            --wood-dark: #3a2e1f;
            --wood-light: #5d4a36;
            --wood-accent: #8b7a65;
            --divider-color: #b8a692;
            
            /* Elegant Bead Colors */
            --bead-upper: #d4af37;
            --bead-upper-light: #f5d062;
            --bead-lower: #c0c0c0;
            --bead-lower-light: #e5e5e5;
            
            /* Sizing */
            --bead-size: min(13vw, 48px);
            --rod-spacing: min(3vw, 14px);
            --divider-height: min(2vw, 9px);
            --bead-gap: min(2vw, 9px);
            --extra-space: min(6vw, 23px);
            
            /* Bounce Effects */
            --bounce-timing: cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            background: #f5f1ea;
            color: #3a2e1f;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            touch-action: manipulation;
        }
        
        .abacus-frame {
            background: linear-gradient(145deg, var(--wood-dark), var(--wood-light));
            padding: min(4vw, 18px);
            border-radius: 18px;
            box-shadow: 
                0 15px 35px rgba(0, 0, 0, 0.2),
                inset 0 0 15px rgba(0, 0, 0, 0.3);
            border: 2px solid var(--divider-color);
            width: 94%;
            max-width: 460px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        
        .branding {
            text-align: center;
            margin-bottom: 12px;
            position: relative;
            z-index: 4;
        }
        
        .brand {
            font-family: 'Playfair Display', serif;
            font-size: min(6vw, 1.8rem);
            font-weight: 700;
            color: var(--bead-upper);
            margin: 0;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
            letter-spacing: 1px;
        }
        
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: min(4.5vw, 1.3rem);
            color: var(--bead-lower-light);
            margin-top: 4px;
            font-style: italic;
        }
        
        .rods-container {
            display: flex;
            justify-content: space-between;
            padding: min(3vw, 15px) 0;
            min-height: calc(var(--bead-size) * 8);
            position: relative;
        }
        
        .rod {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 var(--rod-spacing);
            position: relative;
        }
        
        .rod-line {
            position: absolute;
            width: 6px;
            height: 100%;
            background: linear-gradient(to bottom, 
                var(--wood-light), 
                var(--divider-color), 
                var(--wood-light));
            z-index: 1;
            border-radius: 4px;
            box-shadow: 
                inset 0 0 10px rgba(0, 0, 0, 0.4),
                0 0 5px rgba(0, 0, 0, 0.2);
        }
        
        .upper-bead {
            width: var(--bead-size);
            height: var(--bead-size);
            background: radial-gradient(circle at 30% 30%, 
                var(--bead-upper-light),
                var(--bead-upper) 70%);
            border-radius: 50%;
            margin-bottom: calc(var(--bead-gap) + var(--extra-space));
            cursor: pointer;
            position: relative;
            z-index: 2;
            box-shadow: 
                inset -5px -5px 10px rgba(0, 0, 0, 0.3),
                0 4px 8px rgba(0, 0, 0, 0.2),
                0 0 0 1px rgba(255,255,255,0.3);
            transition: all 0.4s var(--bounce-timing);
            border: 1px solid rgba(245, 208, 98, 0.5);
        }
        
        .lower-bead {
            width: var(--bead-size);
            height: var(--bead-size);
            background: radial-gradient(circle at 30% 30%, 
                var(--bead-lower-light),
                var(--bead-lower) 70%);
            border-radius: 50%;
            margin-bottom: var(--bead-gap);
            cursor: pointer;
            position: relative;
            z-index: 2;
            box-shadow: 
                inset -5px -5px 10px rgba(0, 0, 0, 0.3),
                0 4px 8px rgba(0, 0, 0, 0.2),
                0 0 0 1px rgba(255,255,255,0.3);
            transition: all 0.4s var(--bounce-timing);
            border: 1px solid rgba(192, 192, 192, 0.6);
        }
        
        .horizontal-divider {
            width: 140%;
            height: var(--divider-height);
            background: linear-gradient(90deg, 
                transparent, 
                var(--divider-color), 
                transparent);
            margin: calc(var(--extra-space) * 1.5) 0;
            position: relative;
            box-shadow: 
                inset 0 3px 6px rgba(0, 0, 0, 0.3),
                0 2px 5px rgba(0, 0, 0, 0.3);
            border-radius: 3px;
            z-index: 3;
        }
        
        .value-display {
            font-family: 'Playfair Display', serif;
            font-size: min(8vw, 2.4rem);
            color: var(--wood-dark);
            text-align: center;
            margin-top: min(3vw, 15px);
            letter-spacing: 2px;
            background: rgba(255, 255, 255, 0.3);
            padding: min(3vw, 10px) min(5vw, 20px);
            border-radius: 12px;
            border: 1px solid var(--divider-color);
            box-shadow: 
                inset 0 0 10px rgba(0, 0, 0, 0.1),
                0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .upper-bead.active {
            transform: translateY(calc(var(--bead-size) * 0.75 + var(--divider-height) / 2 + var(--extra-space) * 1.125)) scale(1.05);
            box-shadow: 
                inset -5px -5px 10px rgba(0, 0, 0, 0.3),
                0 6px 12px rgba(0, 0, 0, 0.25),
                0 0 0 2px rgba(255,255,255,0.4);
        }
        
        .lower-bead.active {
            transform: translateY(calc(var(--bead-size) * -0.25 - var(--divider-height) / 2 - var(--extra-space) * 0.375)) scale(1.05);
            box-shadow: 
                inset -5px -5px 10px rgba(0, 0, 0, 0.3),
                0 6px 12px rgba(0, 0, 0, 0.25),
                0 0 0 2px rgba(255,255,255,0.4);
        }
        
        .upper-bead:hover:not(.active), 
        .lower-bead:hover:not(.active) {
            transform: scale(1.08);
            filter: brightness(1.1);
        }
        
        /* Color Preset Selector */
        .color-presets {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
            padding: 0 10px;
            max-width: 460px;
        }
        
        .color-preset {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .color-preset:hover {
            transform: scale(1.1);
        }
        
        .color-preset.active {
            border: 2px solid #fff;
            box-shadow: 0 0 0 3px var(--wood-dark);
            transform: scale(1.1);
        }
        
        .preset-label {
            text-align: center;
            margin-top: 15px;
            font-weight: 600;
            color: var(--wood-dark);
            font-size: 0.9rem;
        }
        
        /* Reset Button Styles */
        .reset-container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }
        
        .reset-button {
            background: linear-gradient(145deg, var(--wood-dark), var(--wood-light));
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 30px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 
                0 5px 15px rgba(0, 0, 0, 0.2),
                inset 0 0 10px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            letter-spacing: 1px;
        }
        
        .reset-button:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.25),
                inset 0 0 15px rgba(255, 255, 255, 0.15);
        }
        
        .reset-button:active {
            transform: translateY(0);
            box-shadow: 
                0 3px 10px rgba(0, 0, 0, 0.2),
                inset 0 0 5px rgba(255, 255, 255, 0.1);
        }
        
        .reset-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: all 0.5s ease;
        }
        
        .reset-button:hover::before {
            left: 100%;
        }
    </style>
</head>
<body>
    <div class="abacus-frame">
        <div class="branding">
            <div class="brand">EONGENESIS.ID</div>
            <div class="logo">Futuristic Sempoa</div>
        </div>
        
        <div class="rods-container" id="rods-container">
            <!-- Rods will be generated by JavaScript -->
        </div>
        
        <div class="value-display" id="value-display">0</div>
    </div>
    
    <div class="preset-label">Pilih Warna Sempoa:</div>
    <div class="color-presets" id="color-presets">
        <!-- Color presets will be generated by JavaScript -->
    </div>
    
    <div class="reset-container">
        <button class="reset-button" id="reset-button">Reset Sempoa</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const rodCount = 5;
            const rodsContainer = document.getElementById('rods-container');
            const valueDisplay = document.getElementById('value-display');
            const colorPresetsContainer = document.getElementById('color-presets');
            const resetButton = document.getElementById('reset-button');
            let rods = [];
            
            // Color presets with 10 different combinations
            const colorPresets = [
                {
                    name: "Classic Gold",
                    woodDark: "#3a2e1f",
                    woodLight: "#5d4a36",
                    dividerColor: "#b8a692",
                    beadUpper: "#d4af37",
                    beadUpperLight: "#f5d062",
                    beadLower: "#c0c0c0",
                    beadLowerLight: "#e5e5e5"
                },
                {
                    name: "Royal Blue",
                    woodDark: "#1a1a2e",
                    woodLight: "#16213e",
                    dividerColor: "#0f3460",
                    beadUpper: "#e94560",
                    beadUpperLight: "#ff6b81",
                    beadLower: "#8bd5cb",
                    beadLowerLight: "#b8f2e6"
                },
                {
                    name: "Emerald Green",
                    woodDark: "#1e3d2e",
                    woodLight: "#2d5a3e",
                    dividerColor: "#4a7856",
                    beadUpper: "#f4a261",
                    beadUpperLight: "#f7c78e",
                    beadLower: "#2a9d8f",
                    beadLowerLight: "#7fdbca"
                },
                {
                    name: "Ruby Red",
                    woodDark: "#3a1e1e",
                    woodLight: "#5d2a2a",
                    dividerColor: "#8b3a3a",
                    beadUpper: "#ffd700",
                    beadUpperLight: "#ffec8b",
                    beadLower: "#cd5c5c",
                    beadLowerLight: "#ffb6b6"
                },
                {
                    name: "Amethyst Purple",
                    woodDark: "#2d1e3a",
                    woodLight: "#3d2a5d",
                    dividerColor: "#5d3a8b",
                    beadUpper: "#9c89b8",
                    beadUpperLight: "#c9b6e2",
                    beadLower: "#f0a6ca",
                    beadLowerLight: "#ffd6e7"
                },
                {
                    name: "Ocean Blue",
                    woodDark: "#1e2d3a",
                    woodLight: "#2a3d5d",
                    dividerColor: "#3a5d8b",
                    beadUpper: "#48cae4",
                    beadUpperLight: "#90e0ef",
                    beadLower: "#00b4d8",
                    beadLowerLight: "#ade8f4"
                },
                {
                    name: "Sunset Orange",
                    woodDark: "#3a2a1e",
                    woodLight: "#5d3d2a",
                    dividerColor: "#8b5d3a",
                    beadUpper: "#ff7b25",
                    beadUpperLight: "#ff9e58",
                    beadLower: "#ffb563",
                    beadLowerLight: "#ffd8a8"
                },
                {
                    name: "Mint Green",
                    woodDark: "#1e3a2a",
                    woodLight: "#2a5d3d",
                    dividerColor: "#3a8b5d",
                    beadUpper: "#a7c4bc",
                    beadUpperLight: "#d1e2db",
                    beadLower: "#5e8b7e",
                    beadLowerLight: "#9fbfb1"
                },
                {
                    name: "Sapphire Blue",
                    woodDark: "#1e2a3a",
                    woodLight: "#2a3d5d",
                    dividerColor: "#3a5d8b",
                    beadUpper: "#6a4c93",
                    beadUpperLight: "#8a6dbe",
                    beadLower: "#4a6fa5",
                    beadLowerLight: "#7d9cc0"
                },
                {
                    name: "Rose Gold",
                    woodDark: "#3a2a2a",
                    woodLight: "#5d3d3d",
                    dividerColor: "#8b5d5d",
                    beadUpper: "#b76e79",
                    beadUpperLight: "#d4a5ad",
                    beadLower: "#e6c7c2",
                    beadLowerLight: "#f3e0dc"
                }
            ];
            
            function createAbacus() {
                rodsContainer.innerHTML = '';
                rods = [];
                
                for (let i = 0; i < rodCount; i++) {
                    const rod = document.createElement('div');
                    rod.className = 'rod';
                    
                    const rodLine = document.createElement('div');
                    rodLine.className = 'rod-line';
                    rod.appendChild(rodLine);
                    
                    // Upper bead (value 5)
                    const upperBead = document.createElement('div');
                    upperBead.className = 'upper-bead';
                    upperBead.dataset.value = '5';
                    upperBead.dataset.rodIndex = i;
                    rod.appendChild(upperBead);
                    
                    // Divider
                    const divider = document.createElement('div');
                    divider.className = 'horizontal-divider';
                    rod.appendChild(divider);
                    
                    // Lower beads (4 beads, value 1 each)
                    for (let j = 0; j < 4; j++) {
                        const lowerBead = document.createElement('div');
                        lowerBead.className = 'lower-bead';
                        lowerBead.dataset.value = '1';
                        lowerBead.dataset.rodIndex = i;
                        lowerBead.dataset.beadIndex = j;
                        rod.appendChild(lowerBead);
                    }
                    
                    rodsContainer.appendChild(rod);
                    rods.push({ upperActive: false, lowerActive: [] });
                }
                
                // Fixed click handlers
                document.querySelectorAll('.upper-bead').forEach(bead => {
                    bead.addEventListener('click', function() {
                        const rodIndex = parseInt(this.dataset.rodIndex);
                        rods[rodIndex].upperActive = !rods[rodIndex].upperActive;
                        this.classList.toggle('active');
                        calculateTotal();
                    });
                });
                
                document.querySelectorAll('.lower-bead').forEach(bead => {
                    bead.addEventListener('click', function() {
                        const rodIndex = parseInt(this.dataset.rodIndex);
                        const beadIndex = parseInt(this.dataset.beadIndex);
                        
                        if (!this.classList.contains('active')) {
                            if (beadIndex === 0 || rods[rodIndex].lowerActive.includes(beadIndex - 1)) {
                                this.classList.add('active');
                                rods[rodIndex].lowerActive.push(beadIndex);
                                rods[rodIndex].lowerActive.sort((a, b) => a - b);
                            }
                        } else {
                            if (beadIndex === rods[rodIndex].lowerActive[rods[rodIndex].lowerActive.length - 1]) {
                                this.classList.remove('active');
                                rods[rodIndex].lowerActive = rods[rodIndex].lowerActive.filter(b => b !== beadIndex);
                            }
                        }
                        
                        calculateTotal();
                    });
                });
            }
            
            function calculateTotal() {
                let total = 0;
                
                rods.forEach((rod, index) => {
                    const placeValue = Math.pow(10, rodCount - index - 1);
                    const rodValue = (rod.upperActive ? 5 : 0) + rod.lowerActive.length;
                    total += rodValue * placeValue;
                });
                
                valueDisplay.textContent = total.toLocaleString('id-ID');
            }
            
            function createColorPresets() {
                colorPresetsContainer.innerHTML = '';
                
                colorPresets.forEach((preset, index) => {
                    const presetElement = document.createElement('div');
                    presetElement.className = 'color-preset';
                    presetElement.style.background = `linear-gradient(135deg, ${preset.beadUpper}, ${preset.beadLower})`;
                    presetElement.title = preset.name;
                    presetElement.dataset.index = index;
                    
                    presetElement.addEventListener('click', function() {
                        applyColorPreset(index);
                        
                        // Update active state
                        document.querySelectorAll('.color-preset').forEach(el => {
                            el.classList.remove('active');
                        });
                        this.classList.add('active');
                    });
                    
                    colorPresetsContainer.appendChild(presetElement);
                });
            }
            
            function applyColorPreset(index) {
                const preset = colorPresets[index];
                
                // Update CSS variables
                document.documentElement.style.setProperty('--wood-dark', preset.woodDark);
                document.documentElement.style.setProperty('--wood-light', preset.woodLight);
                document.documentElement.style.setProperty('--divider-color', preset.dividerColor);
                document.documentElement.style.setProperty('--bead-upper', preset.beadUpper);
                document.documentElement.style.setProperty('--bead-upper-light', preset.beadUpperLight);
                document.documentElement.style.setProperty('--bead-lower', preset.beadLower);
                document.documentElement.style.setProperty('--bead-lower-light', preset.beadLowerLight);
                
                // Update text colors for better contrast
                const brand = document.querySelector('.brand');
                const logo = document.querySelector('.logo');
                const valueDisplay = document.getElementById('value-display');
                
                brand.style.color = preset.beadUpper;
                logo.style.color = preset.beadLowerLight;
                valueDisplay.style.color = preset.woodDark;
            }
            
            function resetAbacus() {
                // Reset all beads to inactive state
                rods.forEach((rod, index) => {
                    rod.upperActive = false;
                    rod.lowerActive = [];
                });
                
                // Remove active class from all beads
                document.querySelectorAll('.upper-bead, .lower-bead').forEach(bead => {
                    bead.classList.remove('active');
                });
                
                // Reset display value
                valueDisplay.textContent = '0';
                
                // Add a subtle animation effect to show reset
                rodsContainer.style.opacity = '0.7';
                setTimeout(() => {
                    rodsContainer.style.opacity = '1';
                }, 300);
            }
            
            createAbacus();
            createColorPresets();
            
            // Apply the first preset by default
            applyColorPreset(0);
            document.querySelector('.color-preset').classList.add('active');
            
            // Add event listener for reset button
            resetButton.addEventListener('click', resetAbacus);
        });
    </script>
</body>
</html>
